
<div>
	<div class="col-md-11 col-md-offset-1">
		<h1 style="font-family: 微软雅黑;">Topic申请</h1>
		<hr>
		<div class="row">
			<div class="col-md-4">
				<h3 style="font-family: 微软雅黑;">Topic名称</h3>
				<span class="help-block"><small>Topic组成：ProdictLine.Entity.Event<br>例如：fx.topic.created<br> <strong> <span ng-if="!(new_application.productLine==''||new_application.productLine==null)">当前topic名称：<br> {{new_application.productLine}}
						</span> <span ng-if="!(new_application.entity==''||new_application.entity==null)">.{{new_application.entity}}</span> <span ng-if="!(new_application.event==''||new_application.event==null)">.{{new_application.event}}</span></strong>
				</small></span>
			</div>
			<div class="col-md-7">
				<div class="form-group">
					<label>产品线</label> <input class="form-control" autocomplete="off" ng-model="new_application.productLine" typeahead="productLine for productLine in getFilteredProductLine($viewValue)" typeahead-loading="loadingProductlines" placeholder="项目所处的产品线, 例如: flight, hotel, fx ..." /> <i ng-show="loadingProductlines" class="glyphicon glyphicon-refresh"></i>
				</div>
				<div class="form-group" style="margin-bottom: 0px;">
					<label>Entity</label> <input class="form-control" ng-model="new_application.entity" type="text"></input>
				</div>
				<span class="help-block"><small>消息实体，可使用小写字母和数字，可多段，使用 ' . ' 隔开。<br>举例：海外酒店订单：overseahotel.order，用户信息：userinfo。
				</small></span>
				<div class="form-group" style="margin-bottom: 0px;">
					<label>Event</label> <input class="form-control" ng-model="new_application.event" type="text"></input>
				</div>
				<span class="help-block"><small>消息产生的情形，可使用小写字母和数字。<br>举例：创建事件：created，查询事件：inquired，删除事件：deleted。
				</small></span>
				<div class="form-group" style="margin-bottom: 0px;">
					<label>描述</label> <input class="form-control" ng-model="new_application.description" type="text"></input>
				</div>
				<span class="help-block"><small>Topic用途描述。</small></span>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-md-4">
				<h3 style="font-family: 微软雅黑;">参数</h3>
			</div>
			<div class="col-md-7">
				<div class="form-group" style="margin-bottom: 0px;">
					<label>存储类型</label> <select class="form-control" ng-model="new_application.storageType" ng-options="storageType for storageType in storageTypes"></select>
				</div>
				<span class=" help-block"><small>日志类消息请选择使用kafka存储类型。</small></span>
				<div ng-if="new_application.storageType=='kafka'" class="form-group">
					<label>语言环境</label> <select class="form-control" ng-model="new_application.languageType" ng-options="languageType for languageType in languageTypes"></select>
				</div>
				<div class="form-group">
					<label>编码类型</label> <select class="form-control" ng-model="new_application.baseCodecType" ng-options="codecType for codecType in codecTypes"></select>
				</div>
				<div class="form-group">
					<label>是否需要开启优先队列功能？</label> <label class="radio-inline"> <input type="radio" ng-model="new_application.priorityMessageEnabled" ng-value=true> 是
					</label> <label class="radio-inline"> <input type="radio" ng-model="new_application.priorityMessageEnabled" ng-value=false> 否
					</label>
				</div>
				<div class="form-group" style="margin-bottom: 0px;">
					<label>消息是否需要压缩？</label> <label class="radio-inline"> <input type="radio" ng-model="new_application.needCompress" value=true> 是
					</label> <label class="radio-inline"> <input type="radio" ng-model="new_application.needCompress" value=false> 否
					</label>
				</div>
				<span class=" help-block"><small>消息经过压缩之后能节省存储空间和传输流量，对应地会增加cpu功耗。</small></span>
				<div ng-show="new_application.needCompress=='true'" class="form-group">
					<label>压缩方式</label> <select class="form-control" ng-model="new_application.compressionType" ng-options="compressionType for compressionType in compressionTypes"></select>
				</div>
				<div ng-show="new_application.needCompress=='true'&&new_application.compressionType=='deflater'" class="form-group">
					<label>压缩程度</label> <select class="form-control" ng-model="new_application.compressionLevel" ng-options="compressionLevel.value as compressionLevel.key for compressionLevel in compressionLevels"></select>
				</div>

				<div class="form-group">
					<label>消息预估上限（条/天）</label> <input class="form-control" ng-model="new_application.maxMsgNumPerDay" type="number"></input>
				</div>
				<div class="form-group">
					<label>消息保留时间（天）<span class="text-danger">对天数有特殊要求请联系hermes团队</span></label> <input class="form-control" ng-model="new_application.retentionDays" type="number" disabled></input>
				</div>
				<div class="form-group" style="margin-bottom: 0px;">
					<label>消息预估大小（Kb）</label> <input class="form-control" ng-model="new_application.size" type="number"></input>
				</div>
				<span class="help-block"><small>消息追求实效性，一般几k较合理。</small></span>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-md-4">
				<h3 style="font-family: 微软雅黑;">负责人信息</h3>
			</div>
			<div class="col-md-7">
				<div class="form-group">
					<label class=>负责人1 姓名</label> <input class="form-control" ng-model="new_application.ownerName1" type="text"></input>
				</div>
				<div class="form-group">
					<label class=>负责人1 邮箱</label>
					<div class="input-group">
						<input class="form-control" ng-model="new_application.ownerEmail1Prefix" type="text"></input>
						<div class="input-group-addon">@Ctrip.com</div>
					</div>
				</div>
				<div class="form-group">
					<label class=>负责人1 手机</label> <input class="form-control" ng-model="new_application.ownerPhone1" type="tel"></input>
				</div>
				<div class="form-group">
					<label class=>负责人2 姓名</label> <input class="form-control" ng-model="new_application.ownerName2" type="text"></input>
				</div>
				<div class="form-group">
					<label class=>负责人2 邮箱</label>
					<div class="input-group">
						<input class="form-control" ng-model="new_application.ownerEmail2Prefix" type="text"></input>
						<div class="input-group-addon">@Ctrip.com</div>
					</div>
				</div>
				<div class="form-group">
					<label class=>负责人2手机</label> <input class="form-control" ng-model="new_application.ownerPhone2" type="tel"></input>
				</div>
			</div>
		</div>
		<hr>
		<button class="btn btn-success pull-right" ng-click="create_topic_application(new_application)">
			<span class="glyphicon glyphicon-saved"></span>提交
		</button>
	</div>
</div>
