var markuppretty=function(e){"use strict";var t=global.safeSort,s={cdata:[0,0],comment:[0,0],conditional:[0,0],content:[0,0],end:[0,0],ignore:[0,0],script:[0,0],sgml:[0,0],singleton:[0,0],space:0,start:[0,0],style:[0,0],template:[0,0],text:[0,0],xml:[0,0]},n=[],o=[],i=[],r=[],p=[],l=[],a=[],h=[],c=[],u=[],f=[],g=1,d=0,m=!1,b=e.crlf===!0||"true"===e.crlf?"\r\n":"\n",v=e.source.length,x=function(e){var t=e.replace(/\s+/," ").indexOf(" "),s=0>t?e.slice(1,e.length-1).toLowerCase():e.slice(1,t).toLowerCase();return s},y=function(t){var s=t.indexOf("="),n="",o="";return 0>s?[t,""]:(n=t.slice(0,s),o=t.slice(s+1),('"'===o.charAt(0)&&'"'===o.charAt(o.length-1)||"'"===o.charAt(0)&&"'"===o.charAt(o.length-1))&&(o=o.slice(1,o.length-1)),e.html===!0?[n.toLowerCase(),o.toLowerCase()]:[n,o])};return function(){m=e.objsort===!0||"true"===e.objsort||"all"===e.objsort||"markup"===e.objsort,e.accessibility=e.accessibility===!0||"true"===e.accessibility,e.inchar="string"==typeof e.inchar&&e.inchar.length>0?e.inchar:" ",e.comments="string"==typeof e.comments&&"noindent"===e.comments?"noindent":"nocomment"===e.comments?"nocomment":"indent",e.commline=e.commline===!0||"true"===e.commline,e.conditional=e.html===!0||e.conditional===!0||"true"===e.conditional,e.content=e.content===!0||"true"===e.content,e.correct=e.correct===!0||"true"===e.correct,e.dustjs=e.dustjs===!0||"true"===e.dustjs,e.force_indent=e.force_indent===!0||"true"===e.force_indent,e.html=e.html===!0||"true"===e.html,e.inlevel=isNaN(e.inlevel)===!0||e.inlevel<0?0:Number(e.inlevel),e.jsx=e.jsx===!0||"true"===e.jsx,e.mode="parse"===e.mode||"diff"===e.mode||"minify"===e.mode?e.mode:"beautify",e.preserve=e.preserve!==!1&&"false"!==e.preserve,e.quoteConvert="single"===e.quoteConvert||"double"===e.quoteConvert?e.quoteConvert:"none",e.insize=isNaN(e.insize)===!0?4:Number(e.insize),e.source="string"==typeof e.source&&e.source.length>0?e.source.replace(/\r\n/g,"\n").replace(/\r/g,"\n"):"Error: no source code supplied to markuppretty!",e.spaceclose=e.spaceclose===!0||"true"===e.spaceclose,e.style="string"==typeof e.style&&"noindent"===e.style?"noindent":"indent",e.tagmerge=e.tagmerge===!0||"true"===e.tagmerge,e.tagsort=e.tagsort===!0||"true"===e.tagsort,e.textpreserve=e.textpreserve===!0||"true"===e.textpreserve,e.vertical="jsonly"===e.vertical?"jsonly":e.vertical===!0||"true"===e.vertical,d=isNaN(e.wrap)===!0||"diff"===e.mode||e.textpreserve===!0?0:Number(e.wrap)}(),"diff"!==e.mode&&(e.content=!1),e.jsx===!0&&(e.dustjs=!1),function(){var i=0,d=e.source.split(""),v=d.length,j="",w="",q=0,A=0,L=0,k=!1,_=0,T=!1,C=function(){w.length>0?(s.space+=w.length,e.preserve===!0&&w.split("\n").length>2?p.push(2):p.push(1)):p.push(0),j=w,w=""},O=function(s){var O=[],$=0,N=0,z=0,S=0,M=0,H=0,I=0,F="",P="",E="",D="",R="",W=!1,Z=!1,U=!1,X=!1,B=!1,G=!1,J=!1,K=!1,Q=!1,V=!1,Y=!1,ee=!1,te=!1,se=[],ne={cfquery:!0},oe={cfabort:"prohibited",cfajaximport:"optional",cfajaxproxy:"optional",cfapplet:"prohibited",cfapplication:"prohibited",cfargument:"prohibited",cfassociate:"prohibited",cfauthenticate:"prohibited",cfbreak:"prohibited",cfcache:"optional",cfcalendar:"optional",cfcase:"required",cfcatch:"required",cfchart:"optional",cfchartdata:"prohibited",cfchartseries:"optional",cfclient:"required",cfclientsettings:"optional",cfcol:"prohibited",cfcollection:"prohibited",cfcomponent:"required",cfcontent:"optional",cfcontinue:"prohibited",cfcookie:"prohibited",cfdbinfo:"prohibited",cfdefaultcase:"required",cfdirectory:"prohibited",cfdiv:"optional",cfdocument:"optional",cfdocumentitem:"optional",cfdocumentsection:"optional",cfdump:"optional",cfelse:"prohibited",cfelseif:"prohibited",cferror:"prohibited",cfexchangecalendar:"optional",cfexchangeconnection:"optional",cfexchangecontact:"optional",cfexchangeconversation:"optional",cfexchangefilter:"optional",cfexchangefolder:"optional",cfexchangemail:"optional",cfexchangetask:"optional",cfexecute:"required",cfexit:"prohibited",cffeed:"prohibited",cffile:"optional",cffileupload:"optional",cffinally:"required",cfflush:"prohibited",cfform:"required",cfformgroup:"required",cfformitem:"optional",cfforward:"prohibited",cfftp:"prohibited",cffunction:"required",cfgraph:"required",cfgraphdata:"prohibited",cfgrid:"required",cfgridcolumn:"optional",cfgridrow:"optional",cfgridupdate:"optional",cfheader:"prohibited",cfhtmlbody:"optional",cfhtmlhead:"optional",cfhtmltopdf:"optional",cfhtmltopdfitem:"optional",cfhttp:"optional",cfhttpparam:"prohibited",cfif:"required",cfimage:"prohibited",cfimap:"prohibited",cfimapfilter:"optional",cfimport:"prohibited",cfinclude:"prohibited",cfindex:"prohibited",cfinput:"prohibited",cfinsert:"prohibited",cfinterface:"required",cfinvoke:"optional",cfinvokeargument:"prohibited",cflayout:"optional",cflayoutarea:"optional",cfldap:"prohibited",cflocation:"prohibited",cflock:"required",cflog:"prohibited",cflogic:"required",cfloginuser:"prohibited",cflogout:"prohibited",cfloop:"required",cfmail:"required",cfmailparam:"prohibited",cfmailpart:"required",cfmap:"optional",cfmapitem:"optional",cfmediaplayer:"optional",cfmenu:"required",cfmenuitem:"optional",cfmessagebox:"optional",cfmodule:"optional",cfNTauthenticate:"optional",cfoauth:"optional",cfobject:"prohibited",cfobjectcache:"prohibited",cfoutput:"required",cfpageencoding:"optional",cfparam:"prohibited",cfpdf:"optional",cfpdfform:"optional",cfpdfformparam:"optional",cfpdfparam:"prohibited",cfpdfsubform:"required",cfpod:"optional",cfpop:"prohibited",cfpresentation:"required",cfpresentationslide:"optional",cfpresenter:"optional",cfprint:"optional",cfprocessingdirective:"optional",cfprocparam:"prohibited",cfprocresult:"prohibited",cfprogressbar:"optional",cfproperty:"prohibited",cfquery:"required",cfqueryparam:"prohibited",cfregistry:"prohibited",cfreport:"optional",cfreportparam:"optional",cfrethrow:"prohibited",cfretry:"prohibited",cfreturn:"prohibited",cfsavecontent:"required",cfschedule:"prohibited",cfscript:"required",cfsearch:"prohibited",cfselect:"required",cfservlet:"prohibited",cfservletparam:"prohibited",cfset:"prohibited",cfsetting:"optional",cfsharepoint:"optional",cfsilent:"required",cfsleep:"prohibited",cfslider:"prohibited",cfspreadsheet:"optional",cfsprydataset:"optional",cfstatic:"required",cfstopwatch:"required",cfstoredproc:"optional",cfswitch:"required",cftable:"required",cftextarea:"optional",cfthread:"optional",cfthrow:"prohibited",cftimer:"required",cftooltip:"required",cftrace:"optional",cftransaction:k===!0?"prohibited":"required",cftree:"required",cftreeitem:"optional",cftry:"required",cfupdate:"prohibited",cfvideo:"prohibited",cfvideoplayer:"optional",cfwddx:"prohibited",cfwebsocket:"optional",cfwhile:"required",cfwindow:"optional",cfx_:"prohibited",cfxml:"required",cfzip:"optional",cfzipparam:"prohibited"},ie=function(t){var s="",o="",i=0,r=0;for(t===!0?(s='"'===F&&"single"===e.quoteConvert?se.slice(0,se.length-1).join("").replace(/'/g,'"').replace(/"/,"'")+"'":"'"===F&&"double"===e.quoteConvert?se.slice(0,se.length-1).join("").replace(/"/g,"'").replace(/'/,'"')+'"':se.join(""),o=y(s)[0],"data-prettydiff-ignore"===o?V=!0:"id"===o?u.push(s.slice(o.length+2,s.length-1)):"schemaLocation"===o&&c.push(s.slice(o.length+2,s.length-1)),F=""):(s=se.join("").replace(/\s+/g," "),o=y(s)[0],"data-prettydiff-ignore"===o?V=!0:"id"===o&&u.push(P.slice(o.length+1,s.length)),e.jsx===!0&&"{"===se[0]&&"}"===se[se.length-1]&&(M=0)),("<%="===s.slice(0,3)||"{%"===s.slice(0,2))&&(B=!0),s=s.replace(/^\ /,"").replace(/\ $/,""),se=s.replace(/\r\n/g,"\n").split("\n"),r=se.length,i=0;r>i;i+=1)se[i]=se[i].replace(/(\s+)$/,"");s=se.join(b),"="===s?n[n.length-1][n[n.length-1].length-1]=n[n.length-1][n[n.length-1].length-1]+"=":"="===s.charAt(0)&&n[n.length-1].length>0&&n[n.length-1][n[n.length-1].length-1].indexOf("=")<0?n[n.length-1][n[n.length-1].length-1]=n[n.length-1][n[n.length-1].length-1]+s:"="!==s.charAt(0)&&n[n.length-1].length>0&&n[n.length-1][n[n.length-1].length-1].indexOf("=")===n[n.length-1][n[n.length-1].length-1].length-1?n[n.length-1][n[n.length-1].length-1]=n[n.length-1][n[n.length-1].length-1]+s:""!==s&&" "!==s&&n[n.length-1].push(s),se=[]};if(C(),o.push(!1),n.push([]),r.push(g),T=!1,"]>"===s)s=">",_-=1,a.push("template_end");else if("<"===d[i])"!"===d[i+1]?"-"===d[i+2]&&"-"===d[i+3]?"#"===d[i+4]?(s="-->",a.push("template")):"["===d[i+4]&&"i"===d[i+5]&&"f"===d[i+6]&&e.conditional===!0?(s="-->",a.push("conditional")):"-"===d[i+4]&&/<cf[a-z]/i.test(e.source)===!0?(J=!0,W=!0,s="--->",a.push("comment")):(s="-->","minify"===e.mode||"nocomment"===e.comments?(X=!0,W=!0):(J=!0,W=!0,e.commline===!0&&(p[p.length-1]=2),a.push("comment"))):"["===d[i+2]&&"C"===d[i+3]&&"D"===d[i+4]&&"A"===d[i+5]&&"T"===d[i+6]&&"A"===d[i+7]&&"["===d[i+8]?(s="]]>",J=!0,a.push("cdata")):(s=">",_+=1,a.push("sgml")):"?"===d[i+1]?(s="?>","x"===d[i+2]&&"m"===d[i+3]&&"l"===d[i+4]?a.push("xml"):(J=!0,a.push("template"))):"%"===d[i+1]?(J=!0,"-"===d[i+2]&&"-"===d[i+3]?(s="--%>",W=!0,e.commline===!0&&(g[g.length-1]=2),a.push("comment")):(s="%>",a.push("template"))):void 0===d[i+4]||"p"!==d[i+1].toLowerCase()||"r"!==d[i+2].toLowerCase()||"e"!==d[i+3].toLowerCase()||">"!==d[i+4]&&/\s/.test(d[i+4])!==!0?void 0===d[i+4]||"x"!==d[i+1].toLowerCase()||"s"!==d[i+2].toLowerCase()||"l"!==d[i+3].toLowerCase()||":"!==d[i+4].toLowerCase()||"t"!==d[i+5].toLowerCase()||"e"!==d[i+6].toLowerCase()||"x"!==d[i+7].toLowerCase()||"t"!==d[i+8].toLowerCase()||">"!==d[i+9]&&/\s/.test(d[i+9])!==!0?void 0===d[i+8]||"c"!==d[i+1].toLowerCase()||"f"!==d[i+2].toLowerCase()||"q"!==d[i+3].toLowerCase()||"u"!==d[i+4].toLowerCase()||"e"!==d[i+5].toLowerCase()||"r"!==d[i+6].toLowerCase()||"y"!==d[i+7].toLowerCase()||">"!==d[i+8]&&!/\s/.test(d[i+8])?"<"===d[i+1]?(s="<"===d[i+2]?">>>":">>",a.push("template")):"#"===d[i+1]?"e"===d[i+2]&&"l"===d[i+3]&&"s"===d[i+4]&&"e"===d[i+5]?(s=">",a.push("template_else")):"-"===d[i+2]&&"-"===d[i+3]?(s="-->",a.push("comment"),J=!0):(s=">",a.push("start")):("/"===d[i+1]?a.push("end"):G=!0,s=">"):(s=">",L+=1,a.push("linepreserve")):(s="</xsl:text>",J=!0,a.push("ignore")):(s="</pre>",J=!0,a.push("ignore"));else if("{"===d[i]){if(J=!0,e.jsx===!0)s="}",a.push("script");else if(e.dustjs===!0){if(":"===d[i+1]&&"e"===d[i+2]&&"l"===d[i+3]&&"s"===d[i+4]&&"e"===d[i+5]&&"}"===d[i+6])return i+=6,l.push("{:else}"),a.push("template_else");"!"===d[i+1]?(s="!}",W=!0,a.push("comment")):"/"===d[i+1]?(s="}",a.push("template_end")):"~"===d[i+1]?(s="}",a.push("singleton")):">"===d[i+1]?(s="/}",a.push("singleton")):"#"===d[i+1]||"?"===d[i+1]||"^"===d[i+1]||"@"===d[i+1]||"<"===d[i+1]||"+"===d[i+1]?(s="}",a.push("template_start")):(s="}",a.push("template"))}else"{"===d[i+1]?"{"===d[i+2]?(s="}}}",a.push("template")):"#"===d[i+2]?(s="}}",a.push("template_start")):"/"===d[i+2]?(s="}}",a.push("template_end")):(s="}}",a.push("template")):(s=d[i+1]+"}",a.push("template"));if("@"===d[i+1]&&"}"===d[i+2]&&"e"===d[i+3]&&"l"===d[i+4]&&"s"===d[i+5]&&"e"===d[i+6]&&"{"===d[i+7]&&"@"===d[i+8]&&"}"===d[i+9])return i+=9,a[a.length-1]="template_else",l.push("{@}else{@}")}else"["===d[i]&&"%"===d[i+1]&&(s="%]",a.push("template"));for(E=s.charAt(s.length-1),i=i;v>i;i+=1)if("\n"===d[i]&&(g+=1),J===!0||/\s/.test(d[i])===!1?O.push(d[i]):" "!==O[O.length-1]&&O.push(" "),W===!0&&(F=""),W===!0){if(d[i]===E&&O.length>s.length+1){for(z=O.length,N=s.length-1;N>-1&&(z-=1,O[z]===s.charAt(N));N-=1);if(0>N)break}}else if(""===F){if(e.jsx===!0&&("{"===d[i]?M+=1:"}"===d[i]&&(M-=1)),"sgml"===a[a.length-1]&&"["===d[i]&&O.length>4){a[a.length-1]="template_start";break}if("<"===d[i]&&J===!1&&O.length>1&&">>"!==s&&">>>"!==s&&G===!0&&(f.push("Parse error on line "+g+" on element: "),ee=!0),K===!0&&/\s/.test(d[i])===!1&&d[i]!==E){for(K=!1,F=D,O.pop(),i=i;v>i;i+=1)if("\n"===d[i]&&(g+=1),se.push(d[i]),"<"!==d[i]&&">"!==d[i]||""!==F&&">"!==F||e.jsx!==!1){if(""===F){if(d[i+1]===E){"/"===se[se.length-1]&&(se.pop(),i-=1),se.length>0&&ie(!1);break}if('"'===d[i]||"'"===d[i]?F=d[i]:"("===d[i]?(F=")",I=1):e.jsx===!0?"="!==d[i-1]&&/\s/.test(d[i-1])!==!0||"{"!==d[i]?"/"===d[i]&&("*"===d[i+1]?F="*/":"/"===d[i+1]&&(F="\n")):(F="}",$=1):"{"===O[0]||"{"!==d[i]||e.dustjs!==!0&&"{"!==d[i+1]&&"%"!==d[i+1]&&"@"!==d[i+1]&&"#"!==d[i+1]||(F="{"===d[i+1]?"{"===d[i+2]?"}}}":"}}":e.dustjs===!0?"}":d[i+1]+"}"),/\s/.test(d[i])===!0&&""===F){if("="===se[se.length-2])for(N=i+1;v>N;N+=1)if(/\s/.test(d[N])===!1){('"'===d[N]||"'"===d[N])&&(i=N-1,Y=!0,se.pop());break}if(Y===!0)Y=!1;else if(0===M||1===M&&"{"===se[0]){se.pop(),ie(!1),K=!0;break}}}else if("("===d[i]&&")"===F)I+=1;else if(")"===d[i]&&")"===F){if(I-=1,0===I&&(F="",d[i+1]===s.charAt(0))){ie(!1);break}}else if(e.jsx===!0&&("}"===F||"\n"===F&&"\n"===d[i]||"*/"===F&&"*"===d[i-1]&&"/"===d[i])){if("}"!==F){F="",D="",o[o.length-1]=!0,P=se.join(""),"*"===P.charAt(1)&&(P+="\n"),se=[]," "!==P&&n[n.length-1].push(P);break}if("{"===d[i])$+=1;else if(d[i]===F&&($-=1,0===$)){M=0,F="",P=se.join("").replace(/\s+/g," "),se=[]," "!==P&&n[n.length-1].push(P);break}}else if(">"!==F)if(z=0,R=O[1]+O[2],R=R.toLowerCase(),"cf"!==R||d[i]!==d[i+1]||'"'!==d[i]&&"'"!==d[i]){for(N=F.length-1;N>-1&&d[i-z]===F.charAt(N);N-=1)z+=1;if(0>N&&(ie(!0),d[i+1]===E))break}else se.push(d[i+1]),i+=1}else if(""===F&&"<"===d[i])F=">",H=1;else if(">"===F)if("<"===d[i])H+=1;else if(">"===d[i]&&(H-=1,0===H)){if(R=x(se.join("")),"required"!==oe[R]){F="",ie(!1);break}F="</"+R+">"}}else if('"'===d[i]||"'"===d[i])F=d[i];else if(W===!1&&"<"===d[i]&&"!"===d[i+1]&&"-"===d[i+2]&&"-"===d[i+3]&&"conditional"!==a[a.length-1])F="-->";else if("{"===O[0]||"{"!==d[i]||"%>"===s||"%]"===s||e.dustjs!==!0&&"{"!==d[i+1]&&"%"!==d[i+1]&&"@"!==d[i+1]&&"#"!==d[i+1])if(G===!0&&/\s/.test(d[i])===!0&&"<"!==d[i-1])K=!0;else if(G!==!0||e.jsx!==!0||"/"!==d[i]||"*"!==d[i+1]&&"/"!==d[i+1]){if(d[i]===E&&(O.length>s.length+1||"]"===O[0])&&(e.jsx===!1||0===M)){for(z=O.length,N=s.length-1;N>-1&&(z-=1,O[z]===s.charAt(N));N-=1);if(0>N)break}}else K=!0,O[O.length-1]=" ",se.push(d[i]),D="*"===d[i+1]?"*/":"\n";else F="{"===d[i+1]?"{"===d[i+2]?"}}}":"}}":e.dustjs===!0?"}":d[i+1]+"}",F===s&&(F="")}else if(d[i]===F.charAt(F.length-1))if(z=0,R=O[1]+O[2],R=R.toLowerCase(),"cf"!==R||d[i]!==d[i+1]||'"'!==d[i]&&"'"!==d[i]){for(N=F.length-1;N>-1&&d[i-z]===F.charAt(N);N-=1)z+=1;0>N&&(F="")}else se.push(d[i+1]),i+=1;if(X===!0)return n.pop(),o.pop(),r.pop(),p.pop(),void(w=j);if(J===!0?h.push(!0):h.push(!1),P=O.join(""),R=x(P),"]>"!==s&&_>0&&"["!==P.charAt(P.length-1)&&("]>"===P.slice(P.length-2)||/^(<!((doctype)|(notation))\s)/i.test(P)===!0)&&(_-=1),n[n.length-1].length>0){for(se=n[n.length-1],"/"===se[se.length-1]&&(se.pop(),O.splice(O.length-1,0,"/")),z=se.length,N=1;z>N;N+=1)F=se[N-1],"="===F.charAt(F.length-1)&&se[N].indexOf("=")<0&&(se[N-1]=F+se[N],se.splice(N,1),z-=1,N-=1);m===!0&&o[o.length-1]===!1&&e.jsx===!1&&B===!1&&"cfif"!==R&&"cfelseif"!==R&&"cfset"!==R&&(se=t(se))}if(ee===!0)if(0===P.indexOf("<!--<!["))f.pop();else if(f[f.length-1]=f[f.length-1]+P,P.indexOf("</")>0)return l.push(P),a.push("end");if(Z=function(){var t=n[n.length-1],s=[],i=l[l.length-1],u="",f="",g=0,d=1,m="",b=/(\/>)$/,v={area:"singleton",base:"singleton",basefont:"singleton",br:"singleton",col:"singleton",embed:"singleton",eventsource:"singleton",frame:"singleton",hr:"singleton",img:"singleton",input:"singleton",keygen:"singleton",link:"singleton",meta:"singleton",param:"singleton",progress:"singleton",source:"singleton",wbr:"singleton"},j=function(){var e=0,t=0,s=R.slice(1);for(e=l.length-1;e>-1;e-=1){if("end"===a[e])t+=1;else if("start"===a[e]&&(t-=1,0>t))return!1;if(0===t&&1===l[e].toLowerCase().indexOf(s))return void 0!==oe[x(l[e])]?a[e]="template_start":a[e]="start",n[e].length>0?l[e]=l[e].replace(/(\s*\/>)$/," >"):l[e]=l[e].replace(/(\s*\/>)$/,">"),!1}};if(ne["/"+R]===!0&&(L-=1),"end"===a[a.length-1]&&"/cf"!==R.slice(0,3))if("singleton"===a[a.length-2]&&"/"!==i.charAt(i.length-2)&&"/"+x(i)===R)a[a.length-2]="start";else if("start"===a[a.length-2]&&"/span"!==R&&"/div"!==R&&"/script"!==R&&(e.html===!1||e.html===!0&&"/li"!==R)&&R==="/"+x(l[l.length-1])&&e.tagmerge===!0)return a.pop(),n.pop(),o.pop(),r.pop(),p.pop(),h.pop(),a[a.length-1]="singleton",l[l.length-1]=l[l.length-1].replace(/>$/,"/>"),void(te=!0);for(g=t.length-1;g>-1;g-=1)s=y(t[g]),"type"===s[0]?(f=s[1],('"'===f.charAt(0)||"'"===f.charAt(0))&&(f=f.slice(1,f.length-1))):"src"!==s[0]||"embed"!==R&&"img"!==R&&"script"!==R&&"iframe"!==R?"link"===R&&"href"===s&&(u=s[1],('"'===u.charAt(0)||"'"===u.charAt(0))&&(u=u.slice(1,u.length-1)),c.push(u)):(u=s[1],('"'===u.charAt(0)||"'"===u.charAt(0))&&(u=u.slice(1,u.length-1)),c.push(u));if(("script"===R||"style"===R||"cfscript"===R)&&(("script"!==R||""!==f&&"text/javascript"!==f&&"application/javascript"!==f&&"application/x-javascript"!==f&&"text/ecmascript"!==f&&"application/ecmascript"!==f&&"text/jsx"!==f&&"application/jsx"!==f&&"text/cjs"!==f)&&("style"!==R||""!==F&&"text/css"!==F)?"cfscript"===R&&(T=!0):T=!0),"/#assign"===R||"/#global"===R){for(g=a.length-2;g>-1;g-=1){if("start"===a[g]||"template_start"===a[g]?d-=1:("end"===a[g]||"template_end"===a[g])&&(d+=1),1===d&&(0===l[g].indexOf("<#assign")&&"/#assign"===R||0===l[g].indexOf("<#global")&&"/#global"===R))return a[g]="start",!1;if(0===d)return!1}return!1}if("#"===R.charAt(0)&&"start"===a[a.length-1]&&("#assign"===R||"#break"===R||"#case"===R||"#default"===R||"#fallback"===R||"#flush"===R||"#ftl"===R||"#global"===R||"#import"===R||"#include"===R||"#local"===R||"#t"===R||"#lt"===R||"#rt"===R||"#nested"===R||"#nt"===R||"#recover"===R||"#recurse"===R||"#return"===R||"#sep"===R||"#setting"===R||"#stop"===R||"#visit"===R))return!0;if(e.html===!0){if(e.jsx===!1&&l.length>0&&("li"===R?A===q?Q=!0:A+=1:"/li"===R&&A===q?A-=1:"ul"===R||"ol"===R?q+=1:("/ul"===R||"/ol"===R)&&(A===q&&(Q=!0,A-=1),q-=1)),"end"===a[a.length-1]&&"singleton"===v[R.slice(1)]&&"/cftransaction"!==R)return j();if("singleton"===v[R])return e.correct===!0&&b.test(P)===!1&&(O.pop(),O.push(" "),O.push("/"),O.push(">")),!0}return"end"===a[a.length-1]&&"/cf"===R.slice(0,3)&&void 0!==oe[R.slice(1)]?(m=oe[R.slice(1)],"/cftransaction"===R&&(k=!1),void 0!==m&&(a[a.length-1]="template_end"),"optional"!==m&&"prohibited"!==m||"/cftransaction"===R?!1:j()):"cf"===R.slice(0,2)?"cfelse"===R||"cfelseif"===R?(a.push("template_else"),l.push(O.join("")),te=!0,!1):(m=oe[R],"optional"===m||"prohibited"===m||"cf_"===R.slice(0,3)?(e.correct===!0&&b.test(P)===!1&&(O.pop(),O.push(" "),O.push("/"),O.push(">")),a.push("template"),l.push(O.join("").replace(/\s+/," ")),te=!0,!1):("required"===m&&"cfquery"!==R&&("cftransaction"===R&&k===!1&&(k=!0),a.push("template_start"),l.push(O.join("")),te=!0),!1)):(e.dustjs===!0&&"template_start"===a[a.length-1]&&(f=P.charAt(1),u=P.slice(P.length-2),"/}"!==u&&u.charAt(0)!==f||"#"!==f&&"?"!==f&&"^"!==f&&"@"!==f&&"<"!==f&&"+"!==f||(a[a.length-1]="template")),!1)}(),te!==!0){if(G===!0&&V===!1&&(Z===!0||"/"===O[O.length-2]&&">"===O[O.length-1]?a.push("singleton"):a.push("start")),G===!0&&J===!1&&V===!0&&">"===s&&"/>"!==P.slice(P.length-2))if(Z===!0)a.push("singleton");else for(J=!0,h[h.length-1]=!0,a.push("ignore"),i+=1,F="",i=i;v>i;i+=1)if("\n"===d[i]&&(g+=1),O.push(d[i]),""===F)if('"'===d[i])F='"';else if("'"===d[i])F="'";else if("{"===O[0]||"{"!==d[i]||e.dustjs!==!0&&"{"!==d[i+1]&&"%"!==d[i+1]&&"@"!==d[i+1]&&"#"!==d[i+1]){if("<"===d[i]&&G===!0)U="/"===d[i+1]?!0:!1;else if(d[i]===E&&"/"!==d[i-1]&&"/"!==d[i-1])if(U===!0){if(S-=1,0>S)break}else S+=1}else F="{"===d[i+1]?"{"===d[i+2]?"}}}":"}}":e.dustjs===!0?"}":d[i+1]+"}";else if(d[i]===F.charAt(F.length-1)){for(z=0,N=F.length-1;N>-1&&d[i-z]===F.charAt(N);N-=1)z+=1;0>N&&(F="")}P=O.join(""),"template"===a[a.length-1]&&(P.indexOf("else")>2?a[a.length-1]="template_else":/^(<%\s*\})/.test(P)===!0||/^(\[%\s*\})/.test(P)===!0||/^(\{@\s*\})/.test(P)===!0?a[a.length-1]="template_end":(/(\{\s*%>)$/.test(P)===!0||/(\{\s*%\])$/.test(P)===!0||/(\{\s*@\})$/.test(P)===!0)&&(a[a.length-1]="template_start")),Q!==!0||"beautify"!==e.mode&&"diff"!==e.mode||(l.push("</prettydiffli>"),p.push(p[p.length-1]),r.push(g),p[p.length-2]=0,n.splice(n.length-1,0,[]),a.splice(a.length-1,0,"end"),h.push(!1),o.push(!1)),J===!0?l.push(P):l.push(P.replace(/\s+/g," ")),e.tagsort===!0&&"end"===a[a.length-1]&&"start"!==a[a.length-2]&&!function(){var e=[],t=0,s=0,i=0,c=0,u={},f={attrs:[],jscom:[],linen:[],lines:[],presv:[],token:[],types:[]},g=function(e,t){return l[e[0]]<l[t[0]]?1:-1},d=function(e){f.attrs.push(n[e]),f.jscom.push(o[e]),f.linen.push(r[e]),f.lines.push(p[e]),f.presv.push(h[e]),f.token.push(l[e]),f.types.push(a[e])};for(t=l.length-2;t>-1;t-=1){if("start"===a[t]){if(s-=1,0>s){c=t+1;break}}else"end"===a[t]&&(s+=1,1===s&&(i=t));0===s&&("start"===a[t]?e.push([t,i]):e.push([t,t]))}if(!(e.length<2)){for(e.sort(g),t=e.length-1;t>-1;t-=1)if(d(e[t][0]),e[t][0]!==e[t][1]){for(s=e[t][0]+1;s<e[t][1];s+=1)d(s);d(e[t][1])}u.attrs=n.pop(),u.jscom=o.pop(),u.linen=r.pop(),u.lines=p.pop(),u.presv=h.pop(),u.token=l.pop(),u.types=a.pop(),n=n.slice(0,c).concat(f.attrs),o=o.slice(0,c).concat(f.jscom),r=r.slice(0,c).concat(f.linen),p=p.slice(0,c).concat(f.lines),h=h.slice(0,c).concat(f.presv),l=l.slice(0,c).concat(f.token),a=a.slice(0,c).concat(f.types),n.push(u.attrs),o.push(u.jscom),r.push(u.linen),p.push(u.lines),h.push(u.presv),l.push(u.token),a.push(u.types)}}()}},$=function(){var t=[],s="",c="",u="template_start"===a[a.length-1]&&0===l[l.length-1].indexOf("<!")&&l[l.length-1].indexOf("<![")<0&&"["===l[l.length-1].charAt(l[l.length-1].length-1),f=function(e){return L>0&&e.indexOf("\n")<0&&e.indexOf("\r")<0&&(e=""),w=e,""},m=function(){var e=0,t=0;if("\\"!==d[i-1])return!1;for(e=i-1;e>-1&&"\\"===d[e];e-=1)t+=1;return t%2===1?!0:!1},b="";for(C(),n.push([]),o.push(!1),r.push(g),L>0?h.push(!0):h.push(!1),T===!0&&(b=x(l[l.length-1])),i=i;v>i;i+=1){if("\n"===d[i]&&(g+=1),T===!0)if(""===s){if("/"===d[i]?"*"===d[i+1]?s="*":"/"===d[i+1]?s="/":"([{!=,;.?:&<>".indexOf(d[i-1])>-1&&(s="reg"):'"'!==d[i]&&"'"!==d[i]&&"`"!==d[i]||m()!==!1||(s=d[i]),c=d.slice(i,i+10).join("").toLowerCase(),"cfscript"===b&&"</cfscript"===c)return i-=1,T=!1,t.length<1?(n.pop(),o.pop(),r.pop(),h.pop(),p.pop()):(l.push(t.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"")),"function"==typeof global.jspretty?a.push(b):a.push("content"));if(c=c.slice(0,c.length-2),"script"===b&&"</script"===c)return i-=1,T=!1,t.length<1?(n.pop(),o.pop(),r.pop(),h.pop(),p.pop()):(l.push(t.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"")),"function"==typeof global.jspretty?a.push(b):a.push("content"));if(c=c.slice(0,c.length-1),"style"===b&&"</style"===c)return i-=1,T=!1,t.length<1?(n.pop(),o.pop(),r.pop(),h.pop(),p.pop()):(l.push(t.join("").replace(/^(\s+)/,"").replace(/(\s+)$/,"")),"function"==typeof global.csspretty?a.push(b):a.push("content"))}else s!==d[i]||'"'!==s&&"'"!==s&&"`"!==s||m()!==!1?"`"===s&&"$"===d[i]&&"{"===d[i+1]&&m()===!1?s="}":"}"===s&&"}"===d[i]&&m()===!1?s="`":"*"===s&&"/"===d[i+1]?s="":"/"!==s||"\n"!==d[i]&&"\r"!==d[i]?"reg"===s&&"/"===d[i]&&m()===!1?s="":"/"===s&&">"===d[i]&&"-"===d[i-1]&&"-"===d[i-2]&&(c=d.slice(i+1,i+11).join("").toLowerCase(),"cfscript"===b&&"</cfscript"===c&&(s=""),c=c.slice(0,c.length-2),"script"===b&&"</script"===c&&(s=""),c=c.slice(0,c.length-1),"style"===b&&"</style"===c&&(s="")):s="":s="";if(u===!0&&"]"===d[i])return i-=1,C(),e.content===!0?l.push("text"):e.textpreserve===!0?(l.push(j+t.join("")),p[p.length-1]=0):L>0?(l.push(j+t.join("").replace(/(\s+)$/,f)),p[p.length-1]=0):l.push(t.join("").replace(/(\s+)$/,f).replace(/\s+/g," ")),a.push("content");if(T===!1&&t.length>0&&("<"===d[i]&&"="!==d[i+1]&&/\s|\d/.test(d[i+1])===!1||"["===d[i]&&"%"===d[i+1]||"{"===d[i]&&(e.jsx===!0||e.dustjs===!0||"{"===d[i+1]||"%"===d[i+1]||"@"===d[i+1]||"#"===d[i+1])))return e.dustjs===!0&&"{"===d[i]&&":"===d[i+1]&&"e"===d[i+2]&&"l"===d[i+3]&&"s"===d[i+4]&&"e"===d[i+5]&&"}"===d[i+6]?(i+=6,e.content===!0?l.push("text"):e.textpreserve===!0?(l.push(j+t.join("")),p[p.length-1]=0):l.push(t.join("").replace(/(\s+)$/,f).replace(/\s+/g," ")),a.push("content"),C(),n.push([]),o.push(!1),r.push(g),h.push(!1),l.push("{:else}"),a.push("template_else")):(i-=1,e.content===!0?l.push("text"):e.textpreserve===!0?(l.push(j+t.join("")),p[p.length-1]=0):L>0?(l.push(j+t.join("").replace(/(\s+)$/,f)),p[p.length-1]=0):l.push(t.join("").replace(/(\s+)$/,f).replace(/\s+/g," ")),a.push("content"));t.push(d[i])}};for(i=0;v>i;i+=1)/\s/.test(d[i])===!0?(w+=d[i],"\n"===d[i]&&(g+=1)):T===!0?$():"<"===d[i]?O(""):"["===d[i]&&"%"===d[i+1]?O("%]"):"{"!==d[i]||e.jsx!==!0&&e.dustjs!==!0&&"{"!==d[i+1]&&"%"!==d[i+1]&&"@"!==d[i+1]&&"#"!==d[i+1]?"]"===d[i]&&_>0?O("]>"):$():O("");p[0]=0}(),"parse"===e.mode?(function(){var t=0,s=l.length,o=function(e){return"content"===a[t]?void(l[t]=e+l[t]):"content"===a[t-1]&&"content"!==l[t]?void(l[t-1]=l[t-1]+e):(l.splice(t,0,e),a.splice(t,0,"content"),p.splice(t,0,1),n.splice(t,0,[]),s+=1,void(t+=1))},i=function(){var e="",s=0,o=l[t],i=n[t];h[t]===!0?l[t]=o.replace(" "," "+i):(e=/(\/>)$/.test(o)===!0?"/>":">",s="/>"===e?3:2,l[t]=o.slice(0,o.length-s)+" "+i+e)};for(t=0;s>t;t+=1)n[t].length>0&&i(),"</prettydiffli>"===l[t]&&(e.correct===!0?l[t]="</li>":(l[t]="",a[t]="")),2===p[t]?e.preserve===!0?o(b+b):("singleton"===a[t]||"content"===a[t]||"template"===a[t])&&o(" "):1===p[t]&&("singleton"===a[t]||"content"===a[t]||"template"===a[t]?o(" "):a[t]===a[t-1]||"singleton"!==a[t-1]&&"content"!==a[t-1]&&"template"!==a[t-1]||o(" "))}(),{token:l,types:a}):("minify"===e.mode&&!function(){var t=0,s=l.length,n=function(){e.source=l[t],l[t]=global.jspretty(e),i.push("x")},o=function(){e.source=l[t],l[t]=global.csspretty(e),i.push("x")};for(t=0;s>t;t+=1)"script"===a[t]?n():"style"===a[t]?o():p[t]>0?"singleton"===a[t]||"content"===a[t]||"template"===a[t]?i.push(0):"singleton"===a[t-1]||"content"===a[t-1]||"template"===a[t]?i.push(0):i.push("x"):i.push("x")}(),("beautify"===e.mode||"diff"===e.mode)&&!function(){var t=0,n=l.length,o=[],r="",c=0,u=e.inlevel,f="",g="",d="",m="",v=/^(\s*(\/)*<!?\[+[A-Z]+\[+)/,y=/((\/)*\]+>\s*)$/,j=/^(\s*<!--)/,w=/((\/\/)?-->\s*)$/,q="",A=function(){var e=!1;2===p[t]||"start"!==a[t]&&"singleton"!==a[t]||"comment"===a[t-1]&&2===p[t-1]||(e=0===x(l[t]).indexOf("xsl:"),e!==!1&&("start"===a[t]?p[t]=2:("start"!==a[t-1]||"end"!==a[t+1]||"start"!==a[t-1]&&"end"!==a[t+1])&&(p[t]=2)))},L=function(){var t=e.insize,s=[];for(t=t;t>-1;t-=1)s.push(e.inchar);return new RegExp("^("+s.join("")+"+)")}(),k=function(){var s=0;if(u-=1,"end"===a[t]&&"start"===r||"template_end"===a[t]&&"template_start"===r||e.jsx===!0&&/^\s+\{/.test(l[t-1])===!0&&0===p[t])return i.push("x");if(e.force_indent===!1){if(0===p[t]&&("singleton"===r||"content"===r||"template"===r))return i.push("x");if("comment"===r)for(s=t-1;s>-1;s-=1)if("comment"!==a[s]){if(0===p[s+1]&&("singleton"===a[s]||"content"===a[s]||"template"===r)){for(s+=1;t>s;s+=1)i[s]="x";return i.push("x")}return i.push(u)}return i.push(u)}i.push(u)},_=function(){var s=0;if(0!==p[t]||e.force_indent!==!1||h[t]!==!1&&"content"===a[t])i.push(u);else{if("comment"===r&&0===c){for(s=t-1;s>-1;s-=1){if("comment"!==a[s-1]&&"comment"===a[s]){if(0===p[s]){for(s=s;t>s;s+=1)i[s]="x";return i.push("x")}return i.push(u)}if(p[s]>0)return i.push(u)}return i.push(u)}i.push("x")}},T=function(){var n=[],o="",r=!1,h=function(e){return e+"{"},c=e.inlevel,x=e.mode,A=e.vertical;s.script[0]+=1,s.script[1]+=l[t].replace(/\s+/g," ").length,v.test(l[t])===!0?(f=v.exec(l[t])[0].replace(/^\s+/,"")+b,l[t]=l[t].replace(v,"")):j.test(l[t])===!0&&(d=j.exec(l[t])[0].replace(/^\s+/,"")+b,l[t]=l[t].replace(j,"")),y.test(l[t])===!0?(g=y.exec(l[t])[0],l[t]=l[t].replace(y,"")):w.test(l[t])===!0&&(m=w.exec(l[t])[0],l[t]=l[t].replace(w,"")),o=l[t],e.jsx===!0&&"{"===o.charAt(0)&&(o=o.slice(1,o.length-1),r=!0),e.source=o,e.inlevel="noinde"===e.style?0:u,e.mode="beautify",e.vertical="jsonly"===e.vertical||e.vertical===!0||"true"===e.vertical,l[t]=global.jspretty(e),e.inlevel=c,e.mode=x,e.vertical=A,r===!0&&(0===p[t]?l[t]="{"+l[t].replace(/^(\s+)/,"")+"}":l[t]=l[t].replace(/^(\s+)/,h)+"}"),n=L.exec(l[t]),null!==n&&(q=n[0]),""!==f?(l[t]=q+f+l[t],f=""):""!==d&&(l[t]=q+d+l[t],d=""),""!==g?(l[t]=l[t]+b+q+g,g=""):""!==m&&(l[t]=l[t]+b+q+m,m=""),r===!0&&0===p[t]?(i.push("x"),a[t]="singleton"):i.push(0)},C=function(){var n=[],o=e.inlevel,r=e.mode,p=e.vertical;s.style[0]+=1,s.style[1]+=l[t].replace(/\s+/g," ").length,v.test(l[t])===!0?(f=v.exec(l[t])[0].replace(/^\s+/,"")+b,l[t]=l[t].replace(v,"")):j.test(l[t])===!0&&(d=j.exec(l[t])[0].replace(/^\s+/,"")+b,l[t]=l[t].replace(j,"")),y.test(l[t])===!0?(g=y.exec(l[t])[0],l[t]=l[t].replace(y,"")):w.test(l[t])===!0&&(m=w.exec(l[t])[0],l[t]=l[t].replace(w,"")),e.inlevel="noindent"===e.style?0:u,e.mode="beautify",e.source=l[t],e.vertical=e.vertical===!0||"true"===e.vertical,l[t]=global.csspretty(e),e.inlevel=o,e.mode=r,e.vertical=p,n=L.exec(l[t]),null!==n&&(q=n[0]),""!==f?(l[t]=q+f+l[t],f=""):""!==d&&(l[t]=q+d+l[t],d=""),""!==g?(l[t]=l[t]+b+q+g,g=""):""!==m&&(l[t]=l[t]+b+q+m,m=""),i.push(0)};for(t=0;n>t;t+=1)"start"===a[t]?(i.push(u),u+=1,s.start[0]+=1,s.start[1]+=l[t].length,A()):"template_start"===a[t]||"linepreserve"===a[t]?("linepreserve"===a[t]&&o.push(x(l[t])),i.push(u),u+=1,s.template[0]+=1,s.template[1]+=l[t].length):"template_else"===a[t]?(i.push(u-1),s.template[0]+=1,s.template[1]+=l[t].length):"end"===a[t]?(k(),s.end[0]+=1,s.end[1]+=l[t].length):"template_end"===a[t]?(o.length>0&&x(l[t])==="/"+o[o.length-1]&&o.pop(),k(),s.template[0]+=1,s.template[1]+=l[t].length):0!==p[t]||"singleton"!==a[t]&&"content"!==a[t]&&"template"!==a[t]?"script"===a[t]||"cfscript"===a[t]?(s.script[0]+=1,s.script[1]+=l[t].length,T()):"style"===a[t]?(s.style[0]+=1,s.style[1]+=l[t].length,C()):"comment"===a[t]&&"noindent"===e.comments?(i.push(0),s.comment[0]+=1,s.comment[1]+=l[t].length):"linepreserve"===a[t]?(i.push(u),s.ignore[0]+=1,s.ignore[1]+=l[t].length):(i.push(u),s[a[t]][0]+=1,s[a[t]][1]+=l[t].length,A()):("content"===a[t]&&e.textpreserve===!0?i.push("x"):_(),A(),s[a[t]][0]+=1,s[a[t]][1]+=l[t].length),"content"!==a[t]&&"comment"!==a[t]&&"content"===a[t-1]&&"linepreserve"!==a[t-2]&&o.length>0&&(i[t]="x"),r=a[t],c=p[t];i[0]=0}(),0===l.length?"Error: source does not appear to be markup.":function(){var m=0,j=i.length,w=[],q="",A=function(){var t=0,s=[e.inchar],n=e.insize-1;for(t=0;n>t;t+=1)s.push(e.inchar);return s.join("")}(),L=function(t,s){var n=0,o=[b];if("minify"===e.mode)return w.push(b);for(2===p[m]&&s===w&&o.push(b),n=0;t>n;n+=1)o.push(A);s.push(o.join(""))},k=function(){var t=0,s=0,o=0,r=n[m],p=i[m],c="",u="",f=[],g=x(l[m]);if("x"===p){t=m;do t-=1,p=i[t],o+=l[t].length;while("x"===p&&t>-1);"x"===p&&(p=1)}if(0===p&&(p+=e.inlevel),r.length>0){if(("template_start"===a[m]||"template"===a[m]||"template_else"===a[m])&&e.jsx===!1&&"function"==typeof global.jspretty)for(s=r.length,t=0;s>t;t+=1)o=r[t].indexOf("{"),r[t].indexOf("}")>o&&o>0&&(e.source=r[t].slice(o,r[t].indexOf("}")+1),e.inlevel=p,r[t]=r[t].slice(0,o)+jspretty(e).replace(/^(\s+)/,"")+r[t].slice(r[t].indexOf("}")+1));if(c=r.join(" "),u=x(l[m]),s=u.length+3+c.length,"/"===l[m].charAt(l[m].length-2)&&(s+=1),0===d||d>=s||"cfset"===g||"cfreturn"===g||"cfif"===g||"cfelseif"===g)return h[m]===!0?l[m]=l[m].replace(" "," "+c):(u=/(\/>)$/.test(l[m])===!0?"/>":">",o="/>"===u?3:2,l[m]=l[m].slice(0,l[m].length-o)+" "+c+u),void(("singleton"===a[m]||"template"===a[m])&&(e.spaceclose===!0?l[m]=l[m].replace(/(\ *\/>)$/," />"):l[m]=l[m].replace(/(\ *\/>)$/,"/>")));for(f.push(l[m].slice(0,l[m].indexOf(" "))),s=r.length,t=0;s>t;t+=1)L(p+1,f),f.push(r[t]);f.push(l[m].slice(l[m].indexOf(" ")+1)),l[m]=f.join(""),("singleton"===a[m]||"template"===a[m])&&(e.spaceclose===!0?l[m]=l[m].replace(/(\ *\/>)$/," />"):l[m]=l[m].replace(/(\ *\/>)$/,"/>"))}else{if(r=l[m].split(" "),s=r.length,"x"===i[m]&&"end"===a[m-1]){t=m-1,p=1;do t-=1,"start"===a[t]?p-=1:"end"===a[t]&&(p+=1);while(p>0&&t>0);p=i[t]}for(t=0;s>t;t+=1)u+=r[t],void 0!==r[t+1]&&u.length+r[t+1].length+1>d-o?(f.push(u),o=0,"x"===i[m]&&"end"!==a[m-1]?L(p+1,f):L(p,f),u=""):u+=" ";f.push(u.replace(/\s$/,"")),f.length>0&&("\n"===f[f.length-1].charAt(0)||f[f.length-1].charAt(0)+f[f.length-1].charAt(1)==="\r\n")&&f.pop(),
l[m]=f.join(""),"singleton"===a[m]&&(e.spaceclose===!0?l[m]=l[m].replace(/(\ *\/>)$/," />"):l[m]=l[m].replace(/(\ *\/>)$/,"/>"))}},_=function(){var e=l[m].split(" "),t=n[m],s=t.length,o=0,r=[e[0]],p=[],a=[],h=0,c=0,u=0,f=0;for(L(i[m],w),c=0;s>c;c+=1){if(h=t[c].indexOf("\n"),h>0&&h!==t[c].length-1&&0===t[c].indexOf("/*")){for(p="\r\n"===b?t[c].split("\r\n"):t[c].split("\n"),a.push(p[0]),f=p.length,u=0;f>u;u+=1)""===p[u]?p[u]=b:(L(i[m]+1,a),a.push(p[u].replace(/^(\s+)/,"")));a.push(b),t[c]=a.join("")}c>0&&"\n"===t[c-1].charAt(t[c-1].length-1)?(L(i[m]+1,r),o=r.length-1,r[o]=r[o].slice(1)):r.push(" "),r.push(t[c])}"\n"===t[s-1].charAt(t[s-1].length-1)&&(L(i[m],r),o=r.length-1,r[o]=r[o].slice(1)),r.push(e[1]),w.push(r.join(""))},T=function(){var t=n[m],s=0,o=t.length,r=[],p=e.inlevel+i[m],l=e.inlevel,a=e.mode,h=e.vertical;for("x"===i[m]?p=e.inlevel:i[m]>0&&(p=i[m]),s=0;o>s;s+=1)r=y(t[s]),"{"===r[1].charAt(0)&&(e.mode="beautify",e.inlevel=p,e.source=r[1].slice(1,r[1].length-1),e.vertical="jsonly"===e.vertical||e.vertical===!0||"true"===e.vertical,r[1]=global.jspretty(e),e.mode=a,e.inlevel=l,e.vertical=h,n[m][s]=r[0]+"={"+r[1].replace(/^\s+/,"")+"}")},C=function(){var e=l[m].replace(/\r\n/g,"\n").replace(/^(\n)/,""),t=e.split("\n"),s=0,n=t.length,o=[],r=new RegExp("^("+A+"+)");for(p[m]=1,s=0;n>s;s+=1)if(t[s]=t[s].replace(/^(\s+)/,"").replace(r,""),""===t[s]&&""!==t[s-1]&&n-1>s)L(0,o);else if(""!==t[s]){if(s>0&&L(i[m],o),0===t[s].indexOf(A))do t[s]=t[s].slice(A.length);while(0===t[s].indexOf(A));o.push(t[s].replace(/(\s+)$/,""))}""===o[o.length-1]&&o.pop(),"template_end"===a[m+1]&&o[o.length-1].indexOf(A)>0&&o.pop(),l[m]=o.join("")};for(m=0;j>m;m+=1)e.jsx===!0&&n[m].length>0&&T(),o[m]===!0?_():"content"===a[m]?h[m]===!0?C():d>0&&l[m].length>d&&"beautify"===e.mode&&k():!(n[m].length>0||d>0&&l[m].length>d)||"content"!==a[m]&&"start"!==a[m]&&"singleton"!==a[m]&&"template_start"!==a[m]&&"template"!==a[m]||"beautify"!==e.mode||"singleton"===a[m]&&"{"===l[m].charAt(0)?n[m].length>0?l[m]=l[m].replace(" "," "+n[m].join(" ")):"singleton"===a[m]&&(e.spaceclose===!0?l[m]=l[m].replace(/(\ *\/>)$/," />"):l[m]=l[m].replace(/(\ *\/>)$/,"/>")):k(),"</prettydiffli>"===l[m]&&e.correct===!0&&(l[m]="</li>"),"</prettydiffli>"!==l[m]&&o[m]===!1&&("template"!==a[m]&&"template_start"!==a[m]||"content"!==a[m-1]||h[m-1]!==!0||"beautify"!==e.mode||"x"!==i[m]||w.push(" "),isNaN(i[m])===!1?"minify"===e.mode?w.push(" "):L(i[m],w):"s"===i[m]&&w.push(" "),w.push(l[m]));return w[0]===b&&(w[0]=""),q=w.join(""),"beautify"===e.mode?global.report=function(){var o=l.length,i=[],p={violations:0},h=s.start[0]-s.end[0],d=/\u0000|\u0001|\u0002|\u0003|\u0004|\u0005|\u0006|\u0007|\u0008|\u000b|\u000c|\u000e|\u000f|\u0010|\u0011|\u0012|\u0013|\u0014|\u0015|\u0016|\u0017|\u0018|\u0019|\u001a|\u001b|\u001c|\u001d|\u001e|\u001f|\u007f|\u0080|\u0081|\u0082|\u0083|\u0084|\u0085|\u0086|\u0087|\u0088|\u0089|\u008a|\u008b|\u008c|\u008d|\u008e|\u008f|\u0090|\u0091|\u0092|\u0093|\u0094|\u0095|\u0096|\u0097|\u0098|\u0099|\u009a|\u009b|\u009c|\u009d|\u009e|\u009f|\ufffd/g,m=function(e){var t=String(e).split(""),s=0,n=t.length,o=0;for(n%3===2?o=2:n%3===1&&(o=1),s=n-1;s>0;s-=1)s%3-o===0&&(t[s]=","+t[s]);return t.join("")},w=function(e){var s=e.length,n=e===u,o=0,i=[],r=[];if(s>0){for(e=t(e),o=0;s>o;o+=1)e[o]===e[o+1]?(n!==!0||0!==i.length&&i[i.length-1][1]===e[o]||i.push([2,e[o]]),i.length>0&&(i[i.length-1][0]+=1)):n===!1&&i.push([1,e[o]]);if(s=i.length,n===!0){if(0===s)return"";r.push("<h4>Duplicate id attribute values</h4>")}else r.push("<h4>HTTP requests:</h4>");for(r.push("<ul>"),o=0;s>o;o+=1)n===!0&&i[o][0]>1&&(p.violations+=i[o][0]-1),r.push("<li>"),r.push(i[o][0]),r.push("x - "),r.push(i[o][1].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),r.push("</li>");return r.push("</ul>"),r.join("")}return""},A=function(){var t=[],s=function(){var e=0,t=0,s=0,o=0,i="",h=!1,c=!1,u=!1,f=!1,g=!1,d=/^(h\d)$/,m=[],b=[],v=[],w=[],q=[];for(p.badnest=[],p.obsoleteTags=[],p.obsoleteAttr=[],p.headings=[],p.emptyalt=[],p.noalt=[],p.formNoId=[],p.formNoLabel=[],p.tabindex=[],p.htmllang=!1,e=0;j>e;e+=1){if(f=!1,i=x(l[e]),"start"!==a[e]&&"singleton"!==a[e]||"font"!==i&&"center"!==i&&"basefont"!==i&&"b"!==i&&"i"!==i&&"u"!==i&&"small"!==i&&"big"!==i&&"blink"!==i&&"plaintext"!==i&&"spacer"!==i&&"strike"!==i&&"tt"!==i&&"xmp"!==i){for("start"===a[e]&&d.test(i)===!0&&(o=Number(i.charAt(1)),p.headings.length>0&&o-p.headings[p.headings.length-1][1]>1?(p.violations+=1,p.headings.push([e,o,!0])):p.headings.push([e,o,!1])),s=n[e].length,t=0;s>t;t+=1){if(m=y(n[e][t]),"alt"===m[0]&&"img"===i&&(h=!0,""===m[1]&&p.emptyalt.push(e)),"label"===i&&"for"===m[0])v.push(m[1]),u=!0;else if("select"===i||"input"===i||"textarea"===i){if("id"===m[0]||"type"===m[0]&&("hidden"===m[1].toLowerCase()||"submit"===m[1].toLowerCase()))c=!0,"input"===i&&"type"===m[0]&&"hidden"===m[1]&&(f=!0),"id"===m[0]&&b.push([e,t]);else if(o=q.length,o>0){do o-=1;while(o>0&&"span"===q[o][0]);"label"===q[o][0]&&(f=!0)}}else"html"===i&&(g=!0,("lang"===m[0]||"xml:lang"===m[0])&&(p.htmllang=!0));p.obsoleteTags[p.obsoleteTags.length-1]!==e&&("alink"===m[0]||"align"===m[0]||"background"===m[0]||"border"===m[0]||"color"===m[0]||"compact"===m[0]||"face"===m[0]||"height"===m[0]||"language"===m[0]||"link"===m[0]||"name"===m[0]&&"meta"!==i&&"iframe"!==i&&"select"!==i&&"input"!==i&&"textarea"!==i||"nowrap"===m[0]||"size"===m[0]||"start"===m[0]||"text"===m[0]||"type"===m[0]&&"script"!==i&&"style"!==i&&"input"!==i&&"button"!==i&&"link"!==i||"value"===m[0]&&"input"!==i&&"option"!==i&&"textarea"!==i&&"button"!==i||"version"===m[0]||"vlink"===m[0]||"width"===m[0])&&p.obsoleteAttr.push([e,t]),"tabindex"===m[0]&&(isNaN(Number(m[1]))===!0||Number(m[1])>0?(p.tabindex.push([e,!0]),p.violations+=1):p.tabindex.push([e,!1]))}u===!0?u=!1:"label"===i&&w.push(e),c===!0?c=!1:f!==!1||"select"!==i&&"input"!==i&&"textarea"!==i||p.formNoId.push(e),h===!0?h=!1:"img"===i&&p.noalt.push(e)}else p.obsoleteTags.push(e);"start"===a[e]||"template_start"===a[e]?q.push([i,e]):("end"===a[e]||"template_end"===a[e])&&(q.length>0&&i!=="/"+q[q.length-1][0]&&(q[q.length-1].push(e),p.badnest.push(q[q.length-1])),q.pop())}if(m=[],g===!1&&(p.htmllang=!0),m.push("<div id='a11y'>"),m.push("<div>"),p.htmllang===!1?(p.violations+=1,m.push("<h4>HTML tag is a <strong>missing</strong> lang or xml:lang attribute</h4>")):m.push("<h4>HTML lang or xml:lang attribute is present</h4>"),m.push("<p>The lang attribute ensures the natural language is properly understood by assisting applications.</p>"),m.push("</div><div>"),e=p.badnest.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> improperly nested tag"),e>1&&m.push("s"),m.push("</h4> <p>Improperly nested tags produce unexpected behaviors.</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.badnest[t][2]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.badnest[t][2]]),m.push(" does not match start tag <code>"),m.push(l[p.badnest[t][1]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> from input line number "),m.push(r[p.badnest[t][1]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> improperly nested tags</h4>"),m.push("<p>Improperly nested tags produce unexpected behaviors.</p>");if(m.push("</div><div>"),e=p.obsoleteTags.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> obsolete HTML tag"),e>1&&m.push("s"),m.push("</h4> <p>Obsolete elements do not appropriately describe content.</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.obsoleteTags[t]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.obsoleteTags[t]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> obsolete HTML tags</h4>"),m.push("<p>Obsolete elements do not appropriately describe content.</p>");if(m.push("</div><div>"),e=p.obsoleteAttr.length,e>0){for(o=0,m.push("<h4><strong>"),s=m.length,m.push("</strong> HTML tag"),e>1&&m.push("s"),m.push(" containing obsolete or inappropriate attributes</h4> <p>Obsolete attributes do not appropriately describe content.</p> <ol>"),t=0;e>t;t+=1){if(i=l[p.obsoleteAttr[t][0]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(n[p.obsoleteAttr[t][0]][p.obsoleteAttr[t][1]],"<strong>"+n[p.obsoleteAttr[t][0]][p.obsoleteAttr[t][1]]+"</strong>"),e-1>t&&p.obsoleteAttr[t][0]===p.obsoleteAttr[t+1][0])do i=i.replace(n[p.obsoleteAttr[t][0]][p.obsoleteAttr[t+1][1]],"<strong>"+n[p.obsoleteAttr[t][0]][p.obsoleteAttr[t+1][1]]+"</strong>"),t+=1;while(e-1>t&&p.obsoleteAttr[t][0]===p.obsoleteAttr[t+1][0]);o+=1,m.push("<li><code>"),m.push(i),m.push("</code> on input line number "),m.push(r[p.obsoleteAttr[t][0]]),m.push("</li>")}m.splice(s,0,o),p.violations+=o,m.push("</ol>")}else m.push("<h4><strong>0</strong> HTML tags containing obsolete or inappropriate attributes</h4>"),m.push("<p>Obsolete attributes do not appropriately describe content.</p>");if(m.push("</div><div>"),e=p.formNoId.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> form control element"),e>1&&m.push("s"),m.push(" missing a required <em>id</em> attribute</h4> <p>The id attribute is required to bind a point of interaction to an HTML label.</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.formNoId[t]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.formNoId[t]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> form control elements missing a required <em>id</em> attribute</h4> <p>The id attribute is required to bind a point of interaction to an HTML label.</p>");for(m.push("</div><div>"),e=b.length,p.formNoLabel=[],t=0;e>t;t+=1){for(s=v.length-1;s>-1&&y(n[b[t][0]][b[t][1]])[1]!==v[s];s-=1);0>s&&p.formNoLabel.push(b[t])}if(e=p.formNoLabel.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> form control element"),e>1&&m.push("s"),m.push(" not bound to a label</h4> <p>The <em>id</em> of a form control must match the <em>for</em> of a label.</p><ol>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.formNoLabel[t][0]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.formNoLabel[t][0]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> form control elements not bound to a label</h4> <p>The <em>id</em> of a form control must match the <em>for</em> of a label.</p>");if(m.push("</div><div>"),e=p.tabindex.length,e>0){for(m.push("<h4><strong>"),s=m.length,o=0,m.push(0),m.push("</strong> <em>tabindex</em>"),m.push(" violation"),m.push("</h4> <p>The tabindex attribute should have a 0 or -1 value and should not be over used. Only tabindexes with a value greater than 0 are counted as violations, but every element with a tabindex attribute is listed to quickly indicate if it used excessively.</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),p.tabindex[t][1]===!0&&(m.push("<strong>"),o+=1),m.push(l[p.tabindex[t][0]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),p.tabindex[t][1]===!0&&m.push("</strong>"),m.push("</code> on input line number "),m.push(r[p.tabindex[t][0]]),m.push("</li>");m[s]=o,1!==o&&(m[s+2]=m[s+2]+"s"),m.push("</ol>")}else m.push("<h4><strong>0</strong> elements with a <em>tabindex</em> attribute</h4> <p>The tabindex attribute should have a 0 or -1 value and should not be over used.</p>");if(m.push("</div><div>"),e=p.headings.length,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> HTML heading tag"),e>1&&m.push("s"),m.push(" and their order</h4> <p>Poorly ordered tags are described with a <strong>strong</strong> tag (color red).</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),p.headings[t][2]===!0&&m.push("<strong>"),m.push(l[p.headings[t][0]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),p.headings[t][2]===!0&&m.push("</strong>"),m.push("</code> on input line number "),m.push(r[p.headings[t][0]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> HTML heading elements</h4>"),m.push("<p>When heading tags are present it is important they are properly ordered so that the content they describe can be navigated in the proper order.</p>");if(m.push("</div><div>"),e=p.noalt.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> image"),e>1&&m.push("s"),m.push(" missing a required <em>alt</em> attribute</h4> <p>The alt attribute is required even if it contains no value.</p> <ol>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.noalt[t]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.noalt[t]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> images missing a required <em>alt</em> attribute</h4> <p>The alt attribute is required even if it contains no value.</p>");if(m.push("</div><div>"),e=p.emptyalt.length,p.violations+=e,e>0){for(m.push("<h4><strong>"),m.push(e),m.push("</strong> image"),e>1&&m.push("s"),m.push(" have an empty <em>alt</em> attribute value</h4> <p>Empty alt text is not necessarily a violation, such as the case of tracking pixels. If an image has embedded text this content should be supplied in the alt attribute.</p>"),t=0;e>t;t+=1)m.push("<li><code>"),m.push(l[p.emptyalt[t]].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),m.push("</code> on input line number "),m.push(r[p.emptyalt[t]]),m.push("</li>");m.push("</ol>")}else m.push("<h4><strong>0</strong> images have an empty <em>alt</em> attribute value</h4>"),m.push("<p>Empty alt text is not necessarily a violation, such as the case of tracking pixels. If an image has embedded text this content should be supplied in the alt attribute.</p>");return m.push("</div>"),m.push("</div>"),m.join("")};return e.accessibility===!1?"":(t.push(s()),t.join(""))}(),L=function(){var e=f.length,t=0,s=[];if(p.violations+=e,0===e)return"";for(s.push("<h4><strong>"),s.push(e),s.push("</strong> errors interpreting markup</h4> <ol>"),t=0;e>t;t+=1)s.push("<li>"),s.push(f[t].replace(d,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace("element: ","element: <code>")),s.push("</code></li>");return s.push("</ol>"),s.join("")}(),k=function(){var e=[],t=q.split(b).length,s=q.length,n=t/g*100,o=s/v*100;return e.push("<h4>Data sizes</h4>"),e.push("<table class='analysis' summary='Data sizes'><caption>This table shows changes in sizes of the data due to beautification.</caption>"),e.push("<thead><tr><th>Data figure</th><th>Input</th><th>Output</th><th>Percent change</th></tr></thead><tbody>"),e.push("<tr><th>Lines of code</th><td>"),e.push(m(g)),e.push("</td><td>"),e.push(m(t)),e.push("</td><td>"),e.push(n.toFixed(2)),e.push("%</td></tr>"),e.push("<tr><th>Character size</th><td>"),e.push(m(v)),e.push("</td><td>"),e.push(m(s)),e.push("</td><td>"),e.push(o.toFixed(2)),e.push("%</td></tr>"),e.push("</tbody></table>"),e.join("")}(),_=function(){var e=[],t=s.cdata[0]+s.comment[0]+s.content[0]+s.end[0]+s.ignore[0]+s.script[0]+s.sgml[0]+s.singleton[0]+s.start[0]+s.style[0]+s.template[0]+s.text[0]+s.xml[0],n=s.cdata[1]+s.comment[1]+s.content[1]+s.end[1]+s.ignore[1]+s.script[1]+s.sgml[1]+s.singleton[1]+s.start[1]+s.style[1]+s.template[1]+s.text[1]+s.xml[1],o=function(o){var i="Total*"===o?t:s[o][0],r="Total*"===o?n:s[o][1],p=0;e.push("<tr><th>"),e.push(o),i>0&&("script"===o||"style"===o)&&e.push("**"),e.push("</th><td"),0===h||"start"!==o&&"end"!==o||e.push(' class="bad"'),e.push(">"),e.push(i),e.push("</td><td>"),p=i/t*100,e.push(p.toFixed(2)),e.push("%</td><td>"),e.push(r),e.push("</td><td"),i>0&&("script"===o||"style"===o)&&e.push(" class='bad'"),e.push(">"),p=r/n*100,e.push(p.toFixed(2)),e.push("%</td></tr>")};return e.push("<h4>Statistics and analysis of parsed code</h4>"),e.push("<table class='analysis' summary='Statistics'><caption>This table provides basic statistics about the parsed components of the given code sample after beautification.</caption>"),e.push("<thead><tr><th>Item type</th><th>Number of instances</th><th>Percentage of total items</th><th>Character size</th><th>Percentage of total size</th></tr></thead>"),e.push("<tbody>"),o("Total*"),o("cdata"),o("comment"),o("content"),o("end"),o("ignore"),o("script"),o("sgml"),o("singleton"),o("start"),o("style"),o("template"),o("text"),o("xml"),e.push("<tr><th>space between tags***</th><td colspan='4'>"),e.push(s.space),e.push("</td></tr>"),e.push("</tbody></table> "),e.push("<p>* Totals are accounted for parsed code/content tokens only and not extraneous space for beautification.</p> "),e.push("<p>** Script and Style code is measured with minimal white space.</p>"),e.push("<p>*** This is space that is not associated with text, tags, script, or css.</p> "),e.join("")}(),T=function(){var e=0,s=0,n=0,i=0,r="",p=[],h=[],c=[],u=[],f=!0,g=function(e,t){return t[0]-e[0]};for(e=e;o>e;e+=1)"content"===a[e]&&p.push(l[e]);for(p=t(p.join(" ").replace(d,"").toLowerCase().replace(/&nbsp;/gi," ").replace(/(,|\.|\?|!|:|\(|\)|"|\{|\}|\[|\])/g,"").replace(/\s+/g," ").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").split(" ")),n=p.length,e=0;n>e;e+=1)r=p[e],r.length>2&&r.length<30&&/&#?\w+;/.test(r)===!1&&"the"!==r&&"and"!==r&&"for"!==r&&"are"!==r&&"this"!==r&&"from"!==r&&"with"!==r&&"that"!==r&&"to"!==r&&(0===c.length||r!==c[c.length-1][1]?c.push([1,r]):c[c.length-1][0]+=1),r!==p[e-1]?h.push([1,r]):h[h.length-1][0]+=1;for(h=h.sort(g).slice(0,11),c=c.sort(g).slice(0,11),n=c.length>10?11:c.length,e=0;n>e;e+=1)if(h[e][1]!==c[e][1]){f=!1;break}if(n=h.length>10?10:h.length,n>1){for(i=p.length,u.push("<h4>Zipf's Law analysis of content</h4>"),u.push("<table class='analysis' summary='Zipf&#39;s Law'><caption>This table demonstrates <em>Zipf&#39;s Law</em> by listing the 10 most occuring words in the content and the number of times they occurred.</caption>"),u.push("<thead><tr><th>Word Rank</th><th>Most Occurring Word by Rank</th><th>Number of Instances</th><th>Ratio Increased Over Next Most Frequence Occurance</th><th>Percentage from "),u.push(i),u.push(" total words</th></tr></thead><tbody>"),f===!1&&u.push("<tr><th colspan='5'>Unfiltered Word Set</th></tr>"),e=0;n>e;e+=1)s=void 0!==h[e+1]?h[e][0]/h[e+1][0]:1,u.push("<tr><td>"),u.push(e+1),u.push("</td><td>"),u.push(h[e][1]),u.push("</td><td>"),u.push(h[e][0]),u.push("</td><td>"),u.push(s.toFixed(2)),u.push("</td><td>"),s=h[e][0]/i*100,u.push(s.toFixed(2)),u.push("%</td></tr>");if(n=c.length>10?10:c.length,n>1&&f===!1)for(u.push("<tr><th colspan='5'>Filtered Word Set</th></tr>"),e=0;n>e;e+=1)s=void 0!==c[e+1]?c[e][0]/c[e+1][0]:1,u.push("<tr><td>"),u.push(e+1),u.push("</td><td>"),u.push(c[e][1]),u.push("</td><td>"),u.push(c[e][0]),u.push("</td><td>"),u.push(s.toFixed(2)),u.push("</td><td>"),s=c[e][0]/i*100,u.push(s.toFixed(2)),u.push("%</td></tr>");u.push("</tbody></table>")}return u.join("")}();return h>0?(i.push("<p><strong>"),i.push(h),i.push(" more start tag"),h>1&&i.push("s"),i.push(" than end tags!</strong></p>")):0>h&&(h=-1*h,i.push("<p><strong>"),i.push(h),i.push(" more end tag"),h>1&&i.push("s"),i.push(" than start tags!</strong></p>")),i.push("<p><strong>Total number of HTTP requests (presuming HTML or XML Schema):</strong> <em>"),i.push(c.length),i.push("</em></p>"),i.push("<div class='report'>"),i.push(w(u)),i.push(k),i.push(L),e.accessibility===!0&&i.push(A),i.push(_),i.push(w(c)),i.push(T),i.push("</div>"),e.accessibility===!0?i.join("").replace("<div class='report'>","<p><strong>Total potential accessibility violations:</strong> <em>"+p.violations+"</em></p> <div class='report'>"):i.join("")}():global.report="",q}())};"function"==typeof require&&"object"!=typeof ace?!function(){"use strict";var e="object"!=typeof process||"function"!=typeof process.cwd||"/"!==process.cwd()&&/^([a-z]:\\)$/.test(process.cwd())!==!0||"string"!=typeof __dirname?".":__dirname;void 0===global.csspretty&&(global.csspretty=require(e+"/csspretty.js").api),void 0===global.jspretty&&(global.jspretty=require(e+"/jspretty.js").api),void 0===global.safeSort&&(global.safeSort=require(e+"/safeSort.js").api)}():("function"==typeof csspretty&&(global.csspretty=csspretty),"function"==typeof jspretty&&(global.jspretty=jspretty),"function"==typeof safeSort&&(global.safeSort=safeSort)),"object"==typeof exports||"function"==typeof exports?exports.api=function(e){"use strict";return markuppretty(e)}:"object"!=typeof define&&"function"!=typeof define||void 0!==ace&&void 0!==ace.createEditSession||define(function(e,t){"use strict";return t.api=function(e){return markuppretty(e)},"number"==typeof e?e:t.api});